                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.0.0 #11528 (Mac OS X x86_64)
                                      4 ;--------------------------------------------------------
                                      5 	.module AT24C256
                                      6 	.optsdcc -mmcs51 --model-small
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _RdACK_I2C
                                     12 	.globl _Wr_I2C
                                     13 	.globl _Stop_I2C
                                     14 	.globl _Start_I2C
                                     15 	.globl _WrByte_AT24C256_PARM_2
                                     16 	.globl _WrByte_AT24C256
                                     17 	.globl _RdByte_AT24C256
                                     18 ;--------------------------------------------------------
                                     19 ; special function registers
                                     20 ;--------------------------------------------------------
                                     21 	.area RSEG    (ABS,DATA)
      000000                         22 	.org 0x0000
                                     23 ;--------------------------------------------------------
                                     24 ; special function bits
                                     25 ;--------------------------------------------------------
                                     26 	.area RSEG    (ABS,DATA)
      000000                         27 	.org 0x0000
                                     28 ;--------------------------------------------------------
                                     29 ; overlayable register banks
                                     30 ;--------------------------------------------------------
                                     31 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         32 	.ds 8
                                     33 ;--------------------------------------------------------
                                     34 ; internal ram data
                                     35 ;--------------------------------------------------------
                                     36 	.area DSEG    (DATA)
      000016                         37 _WrByte_AT24C256_PARM_2:
      000016                         38 	.ds 1
                                     39 ;--------------------------------------------------------
                                     40 ; overlayable items in internal ram 
                                     41 ;--------------------------------------------------------
                                     42 ;--------------------------------------------------------
                                     43 ; indirectly addressable internal ram data
                                     44 ;--------------------------------------------------------
                                     45 	.area ISEG    (DATA)
                                     46 ;--------------------------------------------------------
                                     47 ; absolute internal ram data
                                     48 ;--------------------------------------------------------
                                     49 	.area IABS    (ABS,DATA)
                                     50 	.area IABS    (ABS,DATA)
                                     51 ;--------------------------------------------------------
                                     52 ; bit data
                                     53 ;--------------------------------------------------------
                                     54 	.area BSEG    (BIT)
                                     55 ;--------------------------------------------------------
                                     56 ; paged external ram data
                                     57 ;--------------------------------------------------------
                                     58 	.area PSEG    (PAG,XDATA)
                                     59 ;--------------------------------------------------------
                                     60 ; external ram data
                                     61 ;--------------------------------------------------------
                                     62 	.area XSEG    (XDATA)
                                     63 ;--------------------------------------------------------
                                     64 ; absolute external ram data
                                     65 ;--------------------------------------------------------
                                     66 	.area XABS    (ABS,XDATA)
                                     67 ;--------------------------------------------------------
                                     68 ; external initialized ram data
                                     69 ;--------------------------------------------------------
                                     70 	.area XISEG   (XDATA)
                                     71 	.area HOME    (CODE)
                                     72 	.area GSINIT0 (CODE)
                                     73 	.area GSINIT1 (CODE)
                                     74 	.area GSINIT2 (CODE)
                                     75 	.area GSINIT3 (CODE)
                                     76 	.area GSINIT4 (CODE)
                                     77 	.area GSINIT5 (CODE)
                                     78 	.area GSINIT  (CODE)
                                     79 	.area GSFINAL (CODE)
                                     80 	.area CSEG    (CODE)
                                     81 ;--------------------------------------------------------
                                     82 ; global & static initialisations
                                     83 ;--------------------------------------------------------
                                     84 	.area HOME    (CODE)
                                     85 	.area GSINIT  (CODE)
                                     86 	.area GSFINAL (CODE)
                                     87 	.area GSINIT  (CODE)
                                     88 ;--------------------------------------------------------
                                     89 ; Home
                                     90 ;--------------------------------------------------------
                                     91 	.area HOME    (CODE)
                                     92 	.area HOME    (CODE)
                                     93 ;--------------------------------------------------------
                                     94 ; code
                                     95 ;--------------------------------------------------------
                                     96 	.area CSEG    (CODE)
                                     97 ;------------------------------------------------------------
                                     98 ;Allocation info for local variables in function 'WrByte_AT24C256'
                                     99 ;------------------------------------------------------------
                                    100 ;dat                       Allocated with name '_WrByte_AT24C256_PARM_2'
                                    101 ;addr                      Allocated to registers r6 r7 
                                    102 ;------------------------------------------------------------
                                    103 ;	./src/i2c/include/AT24C256.c:14: void WrByte_AT24C256(unsigned int addr, unsigned char dat)
                                    104 ;	-----------------------------------------
                                    105 ;	 function WrByte_AT24C256
                                    106 ;	-----------------------------------------
      0001C6                        107 _WrByte_AT24C256:
                           000007   108 	ar7 = 0x07
                           000006   109 	ar6 = 0x06
                           000005   110 	ar5 = 0x05
                           000004   111 	ar4 = 0x04
                           000003   112 	ar3 = 0x03
                           000002   113 	ar2 = 0x02
                           000001   114 	ar1 = 0x01
                           000000   115 	ar0 = 0x00
      0001C6 AE 82            [24]  116 	mov	r6,dpl
      0001C8 AF 83            [24]  117 	mov	r7,dph
                                    118 ;	./src/i2c/include/AT24C256.c:17: Start_I2C();
      0001CA C0 07            [24]  119 	push	ar7
      0001CC C0 06            [24]  120 	push	ar6
      0001CE 12 02 3D         [24]  121 	lcall	_Start_I2C
                                    122 ;	./src/i2c/include/AT24C256.c:19: Wr_I2C(0xA0);
      0001D1 75 82 A0         [24]  123 	mov	dpl,#0xa0
      0001D4 12 02 65         [24]  124 	lcall	_Wr_I2C
      0001D7 D0 06            [24]  125 	pop	ar6
      0001D9 D0 07            [24]  126 	pop	ar7
                                    127 ;	./src/i2c/include/AT24C256.c:21: Wr_I2C(addr >> 8);
      0001DB 8F 82            [24]  128 	mov	dpl,r7
      0001DD C0 07            [24]  129 	push	ar7
      0001DF C0 06            [24]  130 	push	ar6
      0001E1 12 02 65         [24]  131 	lcall	_Wr_I2C
      0001E4 D0 06            [24]  132 	pop	ar6
      0001E6 D0 07            [24]  133 	pop	ar7
                                    134 ;	./src/i2c/include/AT24C256.c:23: Wr_I2C(addr);
      0001E8 8E 82            [24]  135 	mov	dpl,r6
      0001EA 12 02 65         [24]  136 	lcall	_Wr_I2C
                                    137 ;	./src/i2c/include/AT24C256.c:25: Wr_I2C(dat);
      0001ED 85 16 82         [24]  138 	mov	dpl,_WrByte_AT24C256_PARM_2
      0001F0 12 02 65         [24]  139 	lcall	_Wr_I2C
                                    140 ;	./src/i2c/include/AT24C256.c:27: Stop_I2C();
                                    141 ;	./src/i2c/include/AT24C256.c:28: }
      0001F3 02 02 51         [24]  142 	ljmp	_Stop_I2C
                                    143 ;------------------------------------------------------------
                                    144 ;Allocation info for local variables in function 'RdByte_AT24C256'
                                    145 ;------------------------------------------------------------
                                    146 ;addr                      Allocated to registers r6 r7 
                                    147 ;dat                       Allocated to registers r7 
                                    148 ;------------------------------------------------------------
                                    149 ;	./src/i2c/include/AT24C256.c:30: unsigned char RdByte_AT24C256(unsigned int addr)
                                    150 ;	-----------------------------------------
                                    151 ;	 function RdByte_AT24C256
                                    152 ;	-----------------------------------------
      0001F6                        153 _RdByte_AT24C256:
      0001F6 AE 82            [24]  154 	mov	r6,dpl
      0001F8 AF 83            [24]  155 	mov	r7,dph
                                    156 ;	./src/i2c/include/AT24C256.c:34: Start_I2C();
      0001FA C0 07            [24]  157 	push	ar7
      0001FC C0 06            [24]  158 	push	ar6
      0001FE 12 02 3D         [24]  159 	lcall	_Start_I2C
                                    160 ;	./src/i2c/include/AT24C256.c:35: Wr_I2C(0xA0);
      000201 75 82 A0         [24]  161 	mov	dpl,#0xa0
      000204 12 02 65         [24]  162 	lcall	_Wr_I2C
      000207 D0 06            [24]  163 	pop	ar6
      000209 D0 07            [24]  164 	pop	ar7
                                    165 ;	./src/i2c/include/AT24C256.c:36: Wr_I2C(addr >> 8);
      00020B 8F 82            [24]  166 	mov	dpl,r7
      00020D C0 07            [24]  167 	push	ar7
      00020F C0 06            [24]  168 	push	ar6
      000211 12 02 65         [24]  169 	lcall	_Wr_I2C
      000214 D0 06            [24]  170 	pop	ar6
      000216 D0 07            [24]  171 	pop	ar7
                                    172 ;	./src/i2c/include/AT24C256.c:37: Wr_I2C(addr);
      000218 8E 82            [24]  173 	mov	dpl,r6
      00021A 12 02 65         [24]  174 	lcall	_Wr_I2C
                                    175 ;	./src/i2c/include/AT24C256.c:39: Start_I2C();
      00021D 12 02 3D         [24]  176 	lcall	_Start_I2C
                                    177 ;	./src/i2c/include/AT24C256.c:41: Wr_I2C(0xA1);
      000220 75 82 A1         [24]  178 	mov	dpl,#0xa1
      000223 12 02 65         [24]  179 	lcall	_Wr_I2C
                                    180 ;	./src/i2c/include/AT24C256.c:43: dat = RdACK_I2C(1);
      000226 75 82 01         [24]  181 	mov	dpl,#0x01
      000229 12 02 A3         [24]  182 	lcall	_RdACK_I2C
      00022C AF 82            [24]  183 	mov	r7,dpl
                                    184 ;	./src/i2c/include/AT24C256.c:45: Stop_I2C();
      00022E C0 07            [24]  185 	push	ar7
      000230 12 02 51         [24]  186 	lcall	_Stop_I2C
      000233 D0 07            [24]  187 	pop	ar7
                                    188 ;	./src/i2c/include/AT24C256.c:46: return dat;
      000235 8F 82            [24]  189 	mov	dpl,r7
                                    190 ;	./src/i2c/include/AT24C256.c:47: }
      000237 22               [24]  191 	ret
                                    192 	.area CSEG    (CODE)
                                    193 	.area CONST   (CODE)
                                    194 	.area XINIT   (CODE)
                                    195 	.area CABS    (ABS,CODE)
